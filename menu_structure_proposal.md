# LIA 앱 메뉴 구성 제안

## 1. 개요

LIA 앱의 현재 메뉴 구성은 하단 네비게이션 바의 4개 탭(홈, 코칭센터, 히스토리, MY)과 중앙의 Floating Action Button(AI 메시지 생성)으로 이루어져 있습니다. 이 문서는 현재 구성의 역할과 사용자 경험을 고려하여 최적의 메뉴 구조를 제안합니다.

## 2. 제안하는 메뉴 구조

현재의 메뉴 구조는 LIA 앱의 핵심 기능들을 효과적으로 배치하고 있어, 큰 변경 없이 각 항목의 역할을 명확히 하는 방향으로 제안합니다.

### 2.1. 홈 (메인) - `MainScreen`

*   **역할**: 관계 분석의 시작점 및 대시보드
    *   사용자가 앱을 열었을 때 가장 먼저 접하는 화면으로, 대화 내용을 입력하여 관계 분석을 시작하거나, 기존에 분석된 관계 대시보드를 확인할 수 있습니다.
    *   LIA 앱의 핵심 가치인 '관계 분석'을 중심으로 사용자 경험을 시작합니다.

*   **선정 이유**: 앱의 주요 기능인 '관계 분석'을 중심으로 사용자 경험을 시작하는 것이 가장 직관적이고 중요하다고 판단했습니다. 새로운 분석을 시작하려는 사용자나 기존 분석 결과를 확인하려는 사용자 모두에게 적합한 진입점입니다.

### 2.2. 코칭센터 - `CoachingCenterScreen`

*   **역할**: 커뮤니케이션 스킬 향상 가이드
    *   AI 메시지 작성 팁, 상황별 템플릿, 관계 개선을 위한 조언 등 사용자의 커뮤니케이션 능력을 향상시키는 교육 콘텐츠를 제공합니다.

*   **선정 이유**: 분석 결과에 기반하여 '어떻게 대화해야 할까?'라는 사용자의 질문에 답을 주는 학습 공간으로, 분석과는 별개의 명확한 목적을 가집니다.

### 2.3. 히스토리 - `HistoryScreen`

*   **역할**: 과거 활동 기록 및 성과 추적
    *   사용자가 과거에 분석했던 대화 기록, 생성했던 메시지, 그리고 그 메시지들의 성과(예: 답장률, 호감도 변화)를 시간순으로 확인하고 통계를 볼 수 있습니다.

*   **선정 이유**: 사용자의 성장과 변화를 시각적으로 보여주어 동기를 부여하고, 장기적인 앱 사용을 유도하는 중요한 요소입니다.

### 2.4. MY - `MyScreen`

*   **역할**: 개인 설정 및 계정 관리
    *   사용자 프로필 편집, 알림 설정, 앱 환경 설정, 고객 지원, 이용 약관 등 개인화 및 앱 관리에 필요한 모든 기능을 제공합니다.

*   **선정 이유**: 모든 앱에 필수적인 개인 정보 및 설정 관리 공간으로, 사용자가 자신에게 맞게 앱을 커스터마이징할 수 있도록 합니다.

### 2.5. AI (중앙 Floating Action Button) - `AIMessageScreen`

*   **역할**: 즉각적인 AI 메시지 생성
    *   사용자가 어떤 화면에 있든 가장 빠르게 AI 메시지 생성 기능에 접근할 수 있도록 하는 핵심 액션 버튼입니다.

*   **선정 이유**: '메시지 생성'은 정보 탐색보다는 즉각적인 '행동'을 요구하는 기능이므로, 하단 네비게이션의 중앙 FAB로 배치하여 접근성과 중요성을 강조하는 것이 사용자 경험상 가장 효과적입니다.

## 3. 결론

현재 LIA 앱의 메뉴 구성은 각 화면의 목적과 사용자 플로우를 잘 반영하고 있습니다. `MainScreen`을 홈으로 유지하고, 'AI 메시지 생성' 기능을 중앙 FAB로 배치하는 현재의 방식은 사용자가 앱의 핵심 기능을 직관적으로 이해하고 활용하는 데 최적화되어 있습니다. 이 구조를 유지하면서 각 화면의 콘텐츠를 더욱 풍부하게 발전시키는 데 집중하는 것을 권장합니다.

## 4. 최근 변경 사항 반영

최근 `lib` 폴더 내 파일들에 다음과 같은 중요한 변경 사항들이 적용되었습니다.

*   **차트 위젯 리팩토링**:
    *   모든 차트 파일(`bar_chart.dart`, `donut_chart.dart`, `gauge_chart.dart`, `heatmap_chart.dart`, `line_chart.dart`, `pie_chart.dart`, `radar_chart.dart`, `semicircle_gauge_chart.dart`)에서 `LegendPosition` enum이 `chart_common.dart` 파일로 분리되어 코드 중복이 제거되었습니다.
    *   `LegendPosition`은 이제 `topLeft`, `topCenter`, `topRight`, `bottomLeft`, `bottomCenter`, `bottomRight`와 같이 더 세분화된 범례 위치를 지원합니다.
    *   `line_chart.dart`의 X축 레이블 표시 버그가 수정되어 실제 데이터 레이블이 올바르게 표시됩니다.
    *   `heatmap_chart.dart`의 레이아웃 문제가 해결되어, `height` 속성을 통해 명시적인 높이를 지정하면 `Expanded` 위젯이 안전하게 공간을 차지하도록 수정되었습니다.
    *   `radar_chart.dart`에서 사용되지 않는 `RadarChartData` 및 `RadarDataSet` 모델이 제거되어 코드가 단순화되었습니다.

*   **`main_screen.dart` 사용자 플로우 개선**:
    *   앱 시작 시 분석 완료 화면 대신 분석 입력 화면이 먼저 표시되도록 `_hasAnalysisData`의 초기값이 `false`로 변경되었습니다.
    *   '새로운 분석 시작' 버튼을 눌러도 기존에 로드된 분석 데이터(`_analysisData`)가 유지되도록 수정되어, 데이터가 사라지는 문제 없이 안정적인 사용자 경험을 제공합니다.